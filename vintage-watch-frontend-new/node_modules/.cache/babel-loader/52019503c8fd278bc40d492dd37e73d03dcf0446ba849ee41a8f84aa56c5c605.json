{"ast":null,"code":"var _jsxFileName = \"D:\\\\begin\\\\BRUHMAJOR\\\\EDUCATION\\\\SOFTWARE\\\\SOFTWARE_GROUP\\\\vintage-watch-frontend-new\\\\src\\\\components\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport styled from 'styled-components';\nimport Loading from './Common/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ErrorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding: 2rem;\n  text-align: center;\n`;\n_c = ErrorContainer;\nconst ErrorTitle = styled.h1`\n  color: #e74c3c;\n  margin-bottom: 1rem;\n`;\n_c2 = ErrorTitle;\nconst ErrorMessage = styled.p`\n  color: #7f8c8d;\n  margin-bottom: 2rem;\n  max-width: 500px;\n`;\n_c3 = ErrorMessage;\nconst LoginButton = styled.button`\n  background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: transform 0.2s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n  }\n`;\n_c4 = LoginButton;\nconst ProtectedRoute = ({\n  children,\n  requiredRoles = []\n}) => {\n  _s();\n  const {\n    user,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(ErrorContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorTitle, {\n        children: \"\\uD83D\\uDD12 Access Denied\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: \"You need to be logged in to access this page. Please log in with your credentials.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: () => window.location.href = '/login',\n        children: \"Go to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n  if (requiredRoles.length > 0 && !requiredRoles.includes(user.role)) {\n    return /*#__PURE__*/_jsxDEV(ErrorContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorTitle, {\n        children: \"\\uD83D\\uDEAB Insufficient Permissions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: [\"You don't have the required permissions to access this page. Required role: \", requiredRoles.join(' or '), \". Your role: \", user.role]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: () => window.location.href = '/dashboard',\n        children: \"Go to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n  return children;\n};\n_s(ProtectedRoute, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function () {\n  return [useAuth];\n});\n_c5 = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ErrorContainer\");\n$RefreshReg$(_c2, \"ErrorTitle\");\n$RefreshReg$(_c3, \"ErrorMessage\");\n$RefreshReg$(_c4, \"LoginButton\");\n$RefreshReg$(_c5, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","useAuth","styled","Loading","jsxDEV","_jsxDEV","ErrorContainer","div","_c","ErrorTitle","h1","_c2","ErrorMessage","p","_c3","LoginButton","button","_c4","ProtectedRoute","children","requiredRoles","_s","user","loading","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","href","length","includes","role","join","_c5","$RefreshReg$"],"sources":["D:/begin/BRUHMAJOR/EDUCATION/SOFTWARE/SOFTWARE_GROUP/vintage-watch-frontend-new/src/components/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport styled from 'styled-components';\r\nimport Loading from './Common/Loading';\r\n\r\nconst ErrorContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 100vh;\r\n  padding: 2rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst ErrorTitle = styled.h1`\r\n  color: #e74c3c;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst ErrorMessage = styled.p`\r\n  color: #7f8c8d;\r\n  margin-bottom: 2rem;\r\n  max-width: 500px;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 24px;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst ProtectedRoute = ({ children, requiredRoles = [] }) => {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <ErrorContainer>\r\n        <ErrorTitle>ðŸ”’ Access Denied</ErrorTitle>\r\n        <ErrorMessage>\r\n          You need to be logged in to access this page. Please log in with your credentials.\r\n        </ErrorMessage>\r\n        <LoginButton onClick={() => window.location.href = '/login'}>\r\n          Go to Login\r\n        </LoginButton>\r\n      </ErrorContainer>\r\n    );\r\n  }\r\n\r\n  if (requiredRoles.length > 0 && !requiredRoles.includes(user.role)) {\r\n    return (\r\n      <ErrorContainer>\r\n        <ErrorTitle>ðŸš« Insufficient Permissions</ErrorTitle>\r\n        <ErrorMessage>\r\n          You don't have the required permissions to access this page. \r\n          Required role: {requiredRoles.join(' or ')}. \r\n          Your role: {user.role}\r\n        </ErrorMessage>\r\n        <LoginButton onClick={() => window.location.href = '/dashboard'}>\r\n          Go to Dashboard\r\n        </LoginButton>\r\n      </ErrorContainer>\r\n    );\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}